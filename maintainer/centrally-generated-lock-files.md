---
layout: default
title: Central Lock File Generation
parent: Maintainer
nav_order: 2
---

# Central Lock File Generation

Lock files are a tool for creating reproducible builds, but they can be resource intensive to generate and maintain.

The Central NuGet Maintainer can manage the process of generating and maintaining lock files for your repository.

## Lock File Behavior

When lock files are generated by Central NuGet Maintainers, they will be created with a tag that allows your team or CI/CD pipelines to run no-op builds and restores without recomputing the dependency graph.

By adding these "locked" parameters to commands, changes to `Directory.Packages.props`, project files, *.props, and *.targets files will be ignored.

This can decrease restore and build times.

### Lock File Restore

```
For dotnet.exe, run:
dotnet.exe restore â€“-locked-mode

For msbuild.exe, run:

msbuild.exe /t:restore /p:RestoreLockedMode=true
```

### Lock File Build

```
For dotnet.exe, run:
dotnet.exe build --locked-mode

For msbuild.exe, run:
msbuild.exe <solution>.sln /p:NuGetLockedMode=true
```

## Pull Requests

Computing the full dependency graph for each project in a large solution may be computationally expensive. This service will allow this process to be managed centrally.

When a commit to your repository contains a change to the `Directory.Packages.props`, project file, *.props, or *.targets file, new lock files will be generated for affected projects.

A new branch and pull request will be generated that contains updated lock files for each affected project.

## Excluding Locally Generated Lock Files

Repository owners may choose to automatically reject pull requests that include lock files not created by the Central NuGet Maintainer.

{% raw %}
<script>(function(t,e,s,n){var o,a,c;t.SMCX=t.SMCX||[],e.getElementById(n)||(o=e.getElementsByTagName(s),a=o[o.length-1],c=e.createElement(s),c.type="text/javascript",c.async=!0,c.id=n,c.src="https://widget.surveymonkey.com/collect/website/js/tRaiETqnLgj758hTBazgdzqSORtCawzIPfKe_2BNdVN8yTMrnzhomiW0_2BvZ50nD77y.js",a.parentNode.insertBefore(c,a))})(window,document,"script","smcx-sdk");</script>
{% endraw %}
